<script>
export default {
  name: "render",
  props: {
    data: Object,
    type: String
  },
  render(h) {
    let mediaArr = {'image': 'img','video':'video','audio':'audio'}
    let currentTag = mediaArr[this.type]
    if(!this.type) return
    if(this.type == 'text') {
      return <div class="message-type-text">{this.data.content}</div>
    } else if (this.type == 'file') {
      let fileName = this.data.cspMediaUrl.split("/").pop()
      return (
        <div class="message-type-file">
          <svg t="1618567438066" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2964" width="36" height="36"><path d="M640 0v170.666667c0 46.933333 34.133333 81.066667 81.066667 85.333333H938.666667v682.666667c0 46.933333-38.4 85.333333-85.333334 85.333333H170.666667c-46.933333 0-85.333333-38.4-85.333334-85.333333V85.333333c0-46.933333 38.4-85.333333 85.333334-85.333333h469.333333z m128 682.666667H256c-25.6 0-42.666667 17.066667-42.666667 42.666666s17.066667 42.666667 42.666667 42.666667h512c25.6 0 42.666667-17.066667 42.666667-42.666667s-17.066667-42.666667-42.666667-42.666666z m0-213.333334H256c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666667h512c25.6 0 42.666667-17.066667 42.666667-42.666667s-17.066667-42.666667-42.666667-42.666667z m-298.666667-213.333333H256c-25.6 0-42.666667 17.066667-42.666667 42.666667s17.066667 42.666667 42.666667 42.666666h213.333333c25.6 0 42.666667-17.066667 42.666667-42.666666s-17.066667-42.666667-42.666667-42.666667z" fill="#6157CC" p-id="2965"></path><path d="M640 0l298.666667 256h-213.333334c-46.933333 0-85.333333-38.4-85.333333-85.333333V0z" fill="#B0AAE5" p-id="2966"></path><path d="M768 682.666667c25.6 0 42.666667 17.066667 42.666667 42.666666s-17.066667 42.666667-42.666667 42.666667H256c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666666h512z m0-213.333334c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666667H256c-25.6 0-42.666667-17.066667-42.666667-42.666667s17.066667-42.666667 42.666667-42.666667h512z m-298.666667-213.333333c25.6 0 42.666667 17.066667 42.666667 42.666667s-17.066667 42.666667-42.666667 42.666666H256c-25.6 0-42.666667-17.066667-42.666667-42.666666s17.066667-42.666667 42.666667-42.666667h213.333333z" fill="#FFFFFF" p-id="2967"></path></svg>
          {fileName}
        </div>
      )
    } else {
      return (
        <div class={'message-type-'+this.type}>
          <currentTag controls="controls" src={this.data.cspMediaUrl}></currentTag>
        </div>
      )
    }
  }
}
</script>

